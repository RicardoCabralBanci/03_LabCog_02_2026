# Agente - Runtime, Workspace e Bootstrap

> Fonte: `docs/concepts/agent.md` do repositório MoltBot

## Visão geral

O MoltBot roda um **runtime de agente embarcado** derivado do p-mono. O agente opera dentro de um workspace e recebe arquivos de bootstrap no início de cada sessão.

## Workspace (obrigatório)

O workspace é o **diretório de trabalho** do agente — onde ele opera, lê e escreve.
- Configurado em `agents.defaults.workspace`
- Recomendado: usar `moltbot setup` para inicializar

## Arquivos de Bootstrap (injetados no contexto)

No primeiro turno de uma nova sessão, o MoltBot injeta estes arquivos:

| Arquivo | Propósito |
|---------|-----------|
| `AGENTS.md` | Instruções operacionais + "memória" |
| `SOUL.md` | Persona, limites, tom |
| `TOOLS.md` | Notas sobre ferramentas mantidas pelo usuário |
| `BOOTSTRAP.md` | Ritual de primeiro uso (deletado após completar) |
| `IDENTITY.md` | Nome/vibe/emoji do agente |
| `USER.md` | Perfil do usuário + forma de tratamento preferida |

**Regras:**
- Arquivos em branco são ignorados
- Arquivos grandes são truncados com marcador
- Arquivos ausentes recebem uma linha de "missing file"
- `BOOTSTRAP.md` só é criado para workspace novo

## Skills no Agente

Carregadas de 3 locais (workspace tem prioridade em conflito de nomes):
1. **Bundled** — enviadas com a instalação
2. **Managed** — `~/.clawdbot/skills`
3. **Workspace** — `<workspace>/skills`

## Sessões

Transcrições armazenadas como JSONL:
```
~/.clawdbot/agents/<agentId>/sessions/<SessionId>.jsonl
```

## Ferramentas embutidas

Ferramentas core (read/exec/edit/write) são sempre disponíveis. `TOOLS.md` NÃO controla quais ferramentas existem — é orientação sobre como usá-las.

## Relevância para o LabCog

A estrutura de bootstrap files é muito interessante para o LabCog:
- **AGENTS.md** → Podemos ter instruções operacionais específicas por persona
- **SOUL.md** → Define personalidade — já usamos algo similar com nossas personas
- **TOOLS.md** → Notas sobre ferramentas — útil para documentar nossos scripts
- **IDENTITY.md** → Identidade do agente — mapeia diretamente para nossas personas
- **USER.md** → Perfil do usuário — personalização

A ideia de workspace + bootstrap files pode ser a base para como organizamos os ambientes de cada persona no LabCog.
