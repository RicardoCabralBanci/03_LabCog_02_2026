# Definição de Tabelas: Previews & Conteúdo

**Status**: Definitivo  
**Localização**: Abas `db_Previews` e `db_Content` (VeryHidden)

---

## Tabela A: `tbl_IHM_Previews` (Camada Visual / UI)
**Objetivo**: Alimentar a interface gráfica do C# com imagens para o usuário saber o que está escolhendo.

| Coluna (Header) | Tipo | Descrição | Exemplo |
| :--- | :--- | :--- | :--- |
| `Preview_ID` | INT (PK) | Identificador único do asset visual | `101` |
| `IHM_ID` | INT (FK) | Relaciona com `tbl_IHM_Models` | `1` (Clearline 3.0) |
| `Path_Image_Asset` | STRING | Caminho relativo da imagem (PNG/JPG) | `assets/img/cl30_main_screen.png` |
| `Tooltip_Texto` | STRING | Texto explicativo ao passar o mouse | `Vista da tela inicial com header padrão` |

---

## Tabela B: `tbl_IHM_Content_Map` (Camada Lógica / Gerador)
**Objetivo**: Dizer ao motor de geração (VBA/C#) quais arquivos Word (`.docx`) devem ser usados para montar o manual final.

| Coluna (Header) | Tipo | Descrição | Exemplo |
| :--- | :--- | :--- | :--- |
| `Map_ID` | INT (PK) | Identificador único do mapeamento | `501` |
| `IHM_ID` | INT (FK) | Relaciona com `tbl_IHM_Models` | `1` (Clearline 3.0) |
| `Capitulo_Alvo` | STRING | Qual seção do manual isso preenche? | `04. Falhas e Alarmes` |
| `Path_Template_Std` | STRING | O arquivo "Mestre" (Original/Padrão) | `templates/v3/CL30_Falhas_Master.docx` |
| `Path_Template_Var` | STRING | (Opcional) Variante/Alterado específico | `templates/v3/custom/CL30_Falhas_CocaCola.docx` |
| `Ordem_Insercao` | INT | Sequência de montagem no documento final | `10` |

---

## Regras de Negócio (Implementação)

1.  **Prioridade de Arquivo**:
    *   O Gerador deve verificar primeiro se existe algo na coluna `Path_Template_Var`.
    *   Se existir e o arquivo for válido, usa ele.
    *   Se estiver vazio, usa o `Path_Template_Std`.
    
2.  **Separação Física**:
    *   Estas tabelas devem residir em abas separadas (`db_Previews` e `db_Content`) para evitar conflitos de redimensionamento.

3.  **Relacionamento**:
    *   Ambas as tabelas dependem estritamente da existência do ID na tabela mãe `tbl_IHM_Models`.
    *   Se deletar uma IHM da tabela mãe, deve-se limpar (Cascade Delete) as entradas correspondentes nestas tabelas para não deixar "órfãos".
