# üß† A L√≥gica do Sistema Modular (Arquitetura de Manuais)

Este documento detalha o conceito fundamental por tr√°s da automa√ß√£o dos manuais do **LabCogKHS**.

## 1. O Conceito Central: "Ingredientes vs. Receita" üç≥

Abandonamos a ideia de editar manuais monol√≠ticos (PDFs gigantes). Adotamos a filosofia de **Constru√ß√£o Modular**.

*   **Ingredientes (Snippets)**: Pequenos arquivos Word (.docx), cada um contendo *apenas* um t√≥pico espec√≠fico (Ex: "Como Ligar", "Limpeza", "Alarmes").
*   **A Despensa (File System)**: Uma estrutura de pastas rigidamente organizada onde cada "ingrediente" tem seu lugar cativo.
*   **A Receita (Excel/UI)**: Onde o usu√°rio define *quais* ingredientes ser√£o usados para compor o manual final de uma m√°quina espec√≠fica.
*   **O Chef (Gerador/Python)**: O script que l√™ a receita, busca os ingredientes nas pastas certas e os "costura" em um √∫nico documento final.

## 2. A Estrutura de Pastas como Banco de Dados üóÑÔ∏è

O sistema de arquivos **√â** o nosso banco de dados. A organiza√ß√£o das pastas define a l√≥gica de recupera√ß√£o.

### A Hierarquia Padr√£o (O "Gabarito")
Baseado no modelo CIP, todo cap√≠tulo √© quebrado em "Part√≠culas" (Px):

*   **P1**: Descritivo Geral
*   **P2**: IHM (Interface Homem-M√°quina)
*   **P3**: Comandos F√≠sicos
*   **P4**: Avisos e Alarmes
*   **P5**: Prontid√£o Operacional (Ligar)
*   **P6**: Processo Principal / Limpeza
*   **P7**: Desligar

### O Espelhamento por Fam√≠lia
Como m√°quinas diferentes t√™m conte√∫dos diferentes para o mesmo t√≥pico (ex: "Ligar" um Rob√¥ √© diferente de "Ligar" uma Esteira), replicamos a estrutura para cada fam√≠lia:

```text
üìÇ Base_de_Conhecimento
‚îú‚îÄ‚îÄ üìÇ GENERICO (Para m√≥dulos comuns a todas as m√°quinas, ex: Seguran√ßa B√°sica)
‚îÇ   ‚îî‚îÄ‚îÄ üìÇ C5 - Opera√ß√£o
‚îÇ       ‚îî‚îÄ‚îÄ üìÇ P6 - Limpeza
‚îÇ           ‚îî‚îÄ‚îÄ Limpeza_Padrao.docx
‚îÇ
‚îú‚îÄ‚îÄ üìÇ SHRINKPACKER (Fam√≠lia Espec√≠fica A)
‚îÇ   ‚îî‚îÄ‚îÄ üìÇ C5 - Opera√ß√£o
‚îÇ       ‚îú‚îÄ‚îÄ üìÇ P1 - Descritivo
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ Descritivo_Shrink.docx
‚îÇ       ‚îî‚îÄ‚îÄ üìÇ P5 - Prontid√£o
‚îÇ           ‚îî‚îÄ‚îÄ Ligar_Shrink.docx
‚îÇ
‚îî‚îÄ‚îÄ üìÇ PALETIZADOR (Fam√≠lia Espec√≠fica B)
    ‚îî‚îÄ‚îÄ üìÇ C5 - Opera√ß√£o
        ‚îú‚îÄ‚îÄ üìÇ P1 - Descritivo
        ‚îÇ   ‚îî‚îÄ‚îÄ Descritivo_Paletizador.docx
        ‚îî‚îÄ‚îÄ üìÇ P5 - Prontid√£o
            ‚îî‚îÄ‚îÄ Ligar_Paletizador.docx
```

## 3. O Fluxo da Automa√ß√£o ‚öôÔ∏è

1.  **Entrada**: O usu√°rio seleciona no Excel as caracter√≠sticas da m√°quina (Ex: "√â um Paletizador" + "Tem IHM Touch").
2.  **Processamento**: O Script Python traduz isso em caminhos de arquivo:
    *   *"√â Paletizador?"* -> Define raiz como `/Paletizador`.
    *   *"Tem IHM?"* -> Inclui o arquivo em `/Paletizador/C5/P2`.
    *   *"N√£o tem IHM?"* -> Pula a pasta P2.
3.  **Sa√≠da**: Um √∫nico arquivo Word gerado sequencialmente (P1 + P3 + P5...).

## 4. Regras de Ouro ü•á

1.  **Atomicidade**: Cada arquivo .docx deve ser autossuficiente (come√ßo, meio e fim do seu t√≥pico).
2.  **Padroniza√ß√£o**: Todos devem seguir os estilos (Heading 1, Normal, Fontes) do Template Mestre para que a "costura" seja invis√≠vel.
3.  **Tudo na Pasta**: N√£o existem "subt√≠tulos fantasmas". Se um t√≥pico existe, ele tem um arquivo correspondente na pasta correta.
