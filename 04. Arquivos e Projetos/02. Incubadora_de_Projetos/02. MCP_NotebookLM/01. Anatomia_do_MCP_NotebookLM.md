# ü©ª Anatomia do MCP NotebookLM (An√°lise T√©cnica)

**Data da An√°lise:** 27/01/2026
**Objeto de Estudo:** `notebooklm-mcp` (by khengyun)
**Veredito:** Automa√ß√£o de Navegador (RPA) mascarada de API.

## ‚öôÔ∏è Mecanismo de Funcionamento

Diferente de integra√ß√µes MCP tradicionais que usam APIs REST/GraphQL oficiais, este projeto utiliza uma t√©cnica de **Browser Automation** (Automa√ß√£o de Navegador) para interagir com o Google NotebookLM.

### O Fluxo da "Gambiarra":
1.  **O Cliente (Voc√™/Claude)** envia um pedido MCP (ex: "Resuma o notebook X").
2.  **O Servidor MCP (FastMCP)** recebe o pedido.
3.  **O Motor (Selenium/Undetected Chromedriver)** abre uma janela invis√≠vel (headless) ou vis√≠vel do Google Chrome.
4.  **A A√ß√£o:** O script simula um usu√°rio humano:
    *   Clica na caixa de texto.
    *   Cola a pergunta.
    *   Pressiona `ENTER`.
5.  **A Leitura:** O script monitora o HTML da p√°gina (DOM) esperando a anima√ß√£o de "carregando" parar e "raspa" (scrape) o texto da resposta.
6.  **O Retorno:** O texto √© enviado de volta via protocolo MCP como se fosse uma resposta de API limpa.

## üèóÔ∏è Arquitetura

```mermaid
graph LR
    User[Usu√°rio/Claude] -->|Protocolo MCP| Server[Servidor FastMCP]
    Server -->|Comandos Python| Client[Cliente Selenium]
    Client -->|Cliques/Teclado| Chrome[Google Chrome]
    Chrome -->|HTTPS| Google[Google NotebookLM]
```

## üõ†Ô∏è Funcionalidades Expostas (Tools)

O servidor transforma as a√ß√µes do navegador nestas ferramentas MCP:

1.  **`chat_with_notebook`**:
    *   *Descri√ß√£o*: Realiza uma intera√ß√£o completa (envia pergunta + espera resposta).
    *   *Uso*: Principal ferramenta para conversar com o contexto.
2.  **`send_chat_message`**:
    *   *Descri√ß√£o*: Apenas envia a mensagem (√∫til para comandos ass√≠ncronos).
3.  **`get_chat_response`**:
    *   *Descri√ß√£o*: Tenta ler a √∫ltima resposta gerada na tela.
4.  **`navigate_to_notebook`**:
    *   *Descri√ß√£o*: Troca o caderno ativo (mudando a URL do navegador).
5.  **`set_default_notebook`**:
    *   *Descri√ß√£o*: Define qual caderno ser√° aberto ao iniciar o servidor.

## ‚ö†Ô∏è Pontos Cr√≠ticos

*   **Autentica√ß√£o Fr√°gil**: Depende de o usu√°rio fazer login no Google manualmente no navegador aberto pelo script, ou de copiar perfis de usu√°rio do Chrome.
*   **Instabilidade de UI**: Se o Google mudar o nome da classe CSS do bot√£o de chat, o MCP para de funcionar instantaneamente.
*   **Lentid√£o**: A resposta demora o tempo de uma intera√ß√£o humana + tempo de gera√ß√£o da IA + tempo de leitura do HTML.

## üß™ Conclus√£o
Embora funcional, √© um "hack" visual. N√£o √© um MCP "puro" de dados, mas sim um **Agente de Interface** que conecta o protocolo MCP √† interface web do NotebookLM.
